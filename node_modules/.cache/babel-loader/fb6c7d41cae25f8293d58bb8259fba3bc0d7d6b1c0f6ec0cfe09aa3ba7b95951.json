{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import'./Navbar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const{user,logout,isAuthenticated,isLibrarian}=useAuth();const navigate=useNavigate();const location=useLocation();const[isMenuOpen,setIsMenuOpen]=useState(false);const handleLogout=()=>{logout();navigate('/login');setIsMenuOpen(false);};const toggleMenu=()=>{setIsMenuOpen(!isMenuOpen);};const closeMenu=()=>{setIsMenuOpen(false);};const isActive=path=>{return location.pathname===path;};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-content\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",onClick:closeMenu,children:/*#__PURE__*/_jsx(\"img\",{src:\"/logo.svg\",alt:\"Marchy's Library\",className:\"navbar-logo\"})}),/*#__PURE__*/_jsxs(\"button\",{className:\"navbar-toggle\",onClick:toggleMenu,\"aria-label\":\"Toggle navigation menu\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggle-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggle-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggle-icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-menu \".concat(isMenuOpen?'navbar-menu-open':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-nav\",children:isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-link \".concat(isActive('/')?'active':''),onClick:closeMenu,children:\"Dashboard\"}),/*#__PURE__*/_jsx(Link,{to:\"/my-books\",className:\"navbar-link \".concat(isActive('/my-books')?'active':''),onClick:closeMenu,children:\"My Books\"}),isLibrarian&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/librarian\",className:\"navbar-link \".concat(isActive('/librarian')?'active':''),onClick:closeMenu,children:\"Manage Books\"}),/*#__PURE__*/_jsx(Link,{to:\"/librarian/borrow-records\",className:\"navbar-link \".concat(isActive('/librarian/borrow-records')?'active':''),onClick:closeMenu,children:\"Borrow Records\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"navbar-link \".concat(isActive('/about')?'active':''),onClick:closeMenu,children:\"About\"}),/*#__PURE__*/_jsx(Link,{to:\"/contact\",className:\"navbar-link \".concat(isActive('/contact')?'active':''),onClick:closeMenu,children:\"Contact\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/about\",className:\"navbar-link \".concat(isActive('/about')?'active':''),onClick:closeMenu,children:\"About\"}),/*#__PURE__*/_jsx(Link,{to:\"/contact\",className:\"navbar-link \".concat(isActive('/contact')?'active':''),onClick:closeMenu,children:\"Contact\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-actions\",children:isAuthenticated?/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-user\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsx(\"span\",{className:\"user-role\",children:user===null||user===void 0?void 0:user.role})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-menu\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"navbar-link\",onClick:closeMenu,children:\"Profile\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-link logout-btn\",onClick:handleLogout,children:\"Logout\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-auth\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-primary\",onClick:closeMenu,children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-secondary\",onClick:closeMenu,children:\"Register\"})]})})]})]})})});};export default Navbar;","map":{"version":3,"names":["React","useState","Link","useNavigate","useLocation","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","user","logout","isAuthenticated","isLibrarian","navigate","location","isMenuOpen","setIsMenuOpen","handleLogout","toggleMenu","closeMenu","isActive","path","pathname","className","children","to","onClick","src","alt","concat","name","role"],"sources":["P:/Final Mern/web-frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport './Navbar.css';\r\n\r\nconst Navbar = () => {\r\n  const { user, logout, isAuthenticated, isLibrarian } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/login');\r\n    setIsMenuOpen(false);\r\n  };\r\n\r\n  const toggleMenu = () => {\r\n    setIsMenuOpen(!isMenuOpen);\r\n  };\r\n\r\n  const closeMenu = () => {\r\n    setIsMenuOpen(false);\r\n  };\r\n\r\n  const isActive = (path) => {\r\n    return location.pathname === path;\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar\">\r\n      <div className=\"container\">\r\n        <div className=\"navbar-content\">\r\n          <Link to=\"/\" className=\"navbar-brand\" onClick={closeMenu}>\r\n            <img src=\"/logo.svg\" alt=\"Marchy's Library\" className=\"navbar-logo\" />\r\n          \r\n          </Link>\r\n\r\n          <button \r\n            className=\"navbar-toggle\"\r\n            onClick={toggleMenu}\r\n            aria-label=\"Toggle navigation menu\"\r\n          >\r\n            <span className=\"navbar-toggle-icon\"></span>\r\n            <span className=\"navbar-toggle-icon\"></span>\r\n            <span className=\"navbar-toggle-icon\"></span>\r\n          </button>\r\n\r\n          <div className={`navbar-menu ${isMenuOpen ? 'navbar-menu-open' : ''}`}>\r\n            <div className=\"navbar-nav\">\r\n              {isAuthenticated ? (\r\n                <>\r\n                  <Link \r\n                    to=\"/\" \r\n                    className={`navbar-link ${isActive('/') ? 'active' : ''}`}\r\n                    onClick={closeMenu}\r\n                  >\r\n                    Dashboard\r\n                  </Link>\r\n                  \r\n                  <Link \r\n                    to=\"/my-books\" \r\n                    className={`navbar-link ${isActive('/my-books') ? 'active' : ''}`}\r\n                    onClick={closeMenu}\r\n                  >\r\n                    My Books\r\n                  </Link>\r\n                  \r\n                  {isLibrarian && (\r\n                    <>\r\n                      <Link \r\n                        to=\"/librarian\" \r\n                        className={`navbar-link ${isActive('/librarian') ? 'active' : ''}`}\r\n                        onClick={closeMenu}\r\n                      >\r\n                        Manage Books\r\n                      </Link>\r\n                      \r\n                      <Link \r\n                        to=\"/librarian/borrow-records\" \r\n                        className={`navbar-link ${isActive('/librarian/borrow-records') ? 'active' : ''}`}\r\n                        onClick={closeMenu}\r\n                      >\r\n                        Borrow Records\r\n                      </Link>\r\n                    </>\r\n                  )}\r\n                  \r\n                  <Link \r\n                    to=\"/about\" \r\n                    className={`navbar-link ${isActive('/about') ? 'active' : ''}`}\r\n                    onClick={closeMenu}\r\n                  >\r\n                    About\r\n                  </Link>\r\n                  \r\n                  <Link \r\n                    to=\"/contact\" \r\n                    className={`navbar-link ${isActive('/contact') ? 'active' : ''}`}\r\n                    onClick={closeMenu}\r\n                  >\r\n                    Contact\r\n                  </Link>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Link \r\n                    to=\"/about\" \r\n                    className={`navbar-link ${isActive('/about') ? 'active' : ''}`}\r\n                    onClick={closeMenu}\r\n                  >\r\n                    About\r\n                  </Link>\r\n                  \r\n                  <Link \r\n                    to=\"/contact\" \r\n                    className={`navbar-link ${isActive('/contact') ? 'active' : ''}`}\r\n                    onClick={closeMenu}\r\n                  >\r\n                    Contact\r\n                  </Link>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"navbar-actions\">\r\n              {isAuthenticated ? (\r\n                <div className=\"navbar-user\">\r\n                  <div className=\"user-info\">\r\n                    <span className=\"user-name\">{user?.name}</span>\r\n                    <span className=\"user-role\">{user?.role}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"user-menu\">\r\n                    <Link \r\n                      to=\"/profile\" \r\n                      className=\"navbar-link\"\r\n                      onClick={closeMenu}\r\n                    >\r\n                      Profile\r\n                    </Link>\r\n                    <button \r\n                      className=\"navbar-link logout-btn\"\r\n                      onClick={handleLogout}\r\n                    >\r\n                      Logout\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"navbar-auth\">\r\n                  <Link \r\n                    to=\"/login\" \r\n                    className=\"btn btn-primary\"\r\n                    onClick={closeMenu}\r\n                  >\r\n                    Login\r\n                  </Link>\r\n                  <Link \r\n                    to=\"/register\" \r\n                    className=\"btn btn-secondary\"\r\n                    onClick={closeMenu}\r\n                  >\r\n                    Register\r\n                  </Link>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CACjE,OAASC,OAAO,KAAQ,yBAAyB,CACjD,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtB,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACnB,KAAM,CAAEC,IAAI,CAAEC,MAAM,CAAEC,eAAe,CAAEC,WAAY,CAAC,CAAGX,OAAO,CAAC,CAAC,CAChE,KAAM,CAAAY,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACe,UAAU,CAAEC,aAAa,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAAoB,YAAY,CAAGA,CAAA,GAAM,CACzBP,MAAM,CAAC,CAAC,CACRG,QAAQ,CAAC,QAAQ,CAAC,CAClBG,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAED,KAAM,CAAAE,UAAU,CAAGA,CAAA,GAAM,CACvBF,aAAa,CAAC,CAACD,UAAU,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAI,SAAS,CAAGA,CAAA,GAAM,CACtBH,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAED,KAAM,CAAAI,QAAQ,CAAIC,IAAI,EAAK,CACzB,MAAO,CAAAP,QAAQ,CAACQ,QAAQ,GAAKD,IAAI,CACnC,CAAC,CAED,mBACElB,IAAA,QAAKoB,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBrB,IAAA,QAAKoB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBnB,KAAA,QAAKkB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrB,IAAA,CAACL,IAAI,EAAC2B,EAAE,CAAC,GAAG,CAACF,SAAS,CAAC,cAAc,CAACG,OAAO,CAAEP,SAAU,CAAAK,QAAA,cACvDrB,IAAA,QAAKwB,GAAG,CAAC,WAAW,CAACC,GAAG,CAAC,kBAAkB,CAACL,SAAS,CAAC,aAAa,CAAE,CAAC,CAElE,CAAC,cAEPlB,KAAA,WACEkB,SAAS,CAAC,eAAe,CACzBG,OAAO,CAAER,UAAW,CACpB,aAAW,wBAAwB,CAAAM,QAAA,eAEnCrB,IAAA,SAAMoB,SAAS,CAAC,oBAAoB,CAAO,CAAC,cAC5CpB,IAAA,SAAMoB,SAAS,CAAC,oBAAoB,CAAO,CAAC,cAC5CpB,IAAA,SAAMoB,SAAS,CAAC,oBAAoB,CAAO,CAAC,EACtC,CAAC,cAETlB,KAAA,QAAKkB,SAAS,gBAAAM,MAAA,CAAiBd,UAAU,CAAG,kBAAkB,CAAG,EAAE,CAAG,CAAAS,QAAA,eACpErB,IAAA,QAAKoB,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBb,eAAe,cACdN,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACErB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,GAAG,CACNF,SAAS,gBAAAM,MAAA,CAAiBT,QAAQ,CAAC,GAAG,CAAC,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC1DM,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,WAED,CAAM,CAAC,cAEPrB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,WAAW,CACdF,SAAS,gBAAAM,MAAA,CAAiBT,QAAQ,CAAC,WAAW,CAAC,CAAG,QAAQ,CAAG,EAAE,CAAG,CAClEM,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,UAED,CAAM,CAAC,CAENZ,WAAW,eACVP,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACErB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,YAAY,CACfF,SAAS,gBAAAM,MAAA,CAAiBT,QAAQ,CAAC,YAAY,CAAC,CAAG,QAAQ,CAAG,EAAE,CAAG,CACnEM,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,cAED,CAAM,CAAC,cAEPrB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,2BAA2B,CAC9BF,SAAS,gBAAAM,MAAA,CAAiBT,QAAQ,CAAC,2BAA2B,CAAC,CAAG,QAAQ,CAAG,EAAE,CAAG,CAClFM,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,gBAED,CAAM,CAAC,EACP,CACH,cAEDrB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,QAAQ,CACXF,SAAS,gBAAAM,MAAA,CAAiBT,QAAQ,CAAC,QAAQ,CAAC,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC/DM,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,OAED,CAAM,CAAC,cAEPrB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,UAAU,CACbF,SAAS,gBAAAM,MAAA,CAAiBT,QAAQ,CAAC,UAAU,CAAC,CAAG,QAAQ,CAAG,EAAE,CAAG,CACjEM,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,SAED,CAAM,CAAC,EACP,CAAC,cAEHnB,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACErB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,QAAQ,CACXF,SAAS,gBAAAM,MAAA,CAAiBT,QAAQ,CAAC,QAAQ,CAAC,CAAG,QAAQ,CAAG,EAAE,CAAG,CAC/DM,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,OAED,CAAM,CAAC,cAEPrB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,UAAU,CACbF,SAAS,gBAAAM,MAAA,CAAiBT,QAAQ,CAAC,UAAU,CAAC,CAAG,QAAQ,CAAG,EAAE,CAAG,CACjEM,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,SAED,CAAM,CAAC,EACP,CACH,CACE,CAAC,cAENrB,IAAA,QAAKoB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5Bb,eAAe,cACdN,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BnB,KAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrB,IAAA,SAAMoB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEf,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEqB,IAAI,CAAO,CAAC,cAC/C3B,IAAA,SAAMoB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAEf,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEsB,IAAI,CAAO,CAAC,EAC5C,CAAC,cAEN1B,KAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,UAAU,CACbF,SAAS,CAAC,aAAa,CACvBG,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,SAED,CAAM,CAAC,cACPrB,IAAA,WACEoB,SAAS,CAAC,wBAAwB,CAClCG,OAAO,CAAET,YAAa,CAAAO,QAAA,CACvB,QAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAENnB,KAAA,QAAKkB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BrB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,QAAQ,CACXF,SAAS,CAAC,iBAAiB,CAC3BG,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,OAED,CAAM,CAAC,cACPrB,IAAA,CAACL,IAAI,EACH2B,EAAE,CAAC,WAAW,CACdF,SAAS,CAAC,mBAAmB,CAC7BG,OAAO,CAAEP,SAAU,CAAAK,QAAA,CACpB,UAED,CAAM,CAAC,EACJ,CACN,CACE,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}